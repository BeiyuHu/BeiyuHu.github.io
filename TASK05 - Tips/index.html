<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/favicon/favicon.ico">
    <!--Description-->
    
        <meta name="description" content="BEIYUHU&#39;S STUDY ROOM">
    

    <!--Author-->
    
        <meta name="author" content="BEIYU HU">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="TASK05 - Traning Tips"/>
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content=""/>

    <!--Page Cover-->
    
        <meta property="og:image" content=""/>
    

    <!-- Title -->
    
    <title>TASK05 - Traning Tips - </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/sass/main.css">


    <!--[if lt IE 8]>
        
<script src="/js/ie/html5shiv.js"></script>

    <![endif]-->

    <!--[if lt IE 8]>
        
<link rel="stylesheet" href="/sass/ie8.css">

    <![endif]-->

    <!--[if lt IE 9]>
        
<link rel="stylesheet" href="/sass/ie9.css">

    <![endif]-->

    <!-- Gallery -->
    <link href="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    


<meta name="generator" content="Hexo 5.4.0"></head>

<body>

    <div id="wrapper">

        <!-- Menu -->
        <!-- Header -->
<header id="header">
    <div class="inner">

        <!-- Logo -->
        <a href="/" class="logo">
            <span class="symbol"><img src="/images/BEYUHU.png" alt="" /></span><span class="title"></span>
        </a>

        <!-- Nav -->
        <nav>
            <ul>
                <li><a href="#menu">M E N U</a></li>
            </ul>
        </nav>

    </div>
</header>

<!-- Menu -->
<nav id="menu">
    <h2>M E N U</h2>
    <ul>
        
            <li>
                <a href="/">H O M E</a>
            </li>
        
            <li>
                <a href="/archives">A R C H I V E S</a>
            </li>
        
            <li>
                <a href="/CV.pdf">C V</a>
            </li>
        
            <li>
                <a target="_blank" rel="noopener" href="https://linkedin.com/in/beiyuhu">L i n k e d I n</a>
            </li>
        
    </ul>
</nav>


        <div id="main">
            <div class="inner">

                <!-- Main Content -->
                

    <h1>TASK05 - Traning Tips</h1>


    <span class="image main"><img src="HUNGYILEE_05.png" alt="" /></span>


<!-- Gallery -->


<!-- Content -->
<h1 id="P5-Local-minima-vs-Saddle-point"><a href="#P5-Local-minima-vs-Saddle-point" class="headerlink" title="P5 Local minima vs Saddle point"></a>P5 Local minima vs Saddle point</h1><p> by  <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV11K4y1S7AD?p=5">Hung-yi Lee - Machine Learning 2021 - P5 å±€éƒ¨æœ€å°ä¸éç‚¹</a></p>
<hr>
<h2 id="1-Terminology-of-local-minima-amp-saddle-point"><a href="#1-Terminology-of-local-minima-amp-saddle-point" class="headerlink" title="1. Terminology of local minima &amp; saddle point"></a>1. Terminology of <u>local minima</u> &amp; <u>saddle point</u></h2><h3 id="Optimization-fails-â†“"><a href="#Optimization-fails-â†“" class="headerlink" title="Optimization fails â†“"></a>Optimization fails â†“</h3><P align="center"><img src="LossGraph.png" width="80%"></p>

<p><strong>Scenarios</strong><br>    1. <code>Blue</code>ï¼šå½“åˆ°è¾¾æŸä¸ªæ—¶åˆ»ï¼Œå‚æ•°updateå¯¹lossæ²¡æœ‰å˜åŒ–ï¼Œä½†losså¹¶ä¸å°ï¼›<br>    2. <code>Orange</code>ï¼šä»åˆšä¸€å¼€å§‹ï¼Œgradientå°±æ²¡æœ‰å˜åŒ–ï¼Œgradientä¸º0</p>
<p>å³ <em>å¯¹Lossçš„å¾®åˆ†ä¸º0ï¼Œgradient descentæ— æ³•updateå‚æ•°ã€‚</em> <strong>å¯èƒ½çš„åŸå› </strong>ï¼š<br>    1. <code>local minima</code><br>    2. <code>saddle point</code>ï¼ˆéç‚¹ï¼‰â†’ æ—¢ä¸æ˜¯local minima, åˆä¸æ˜¯local maxima</p>
<p align="center"><img src="localMinima+saddlePoint.png" width="80%"></p>

<ul>
<li>gradient = 0çš„ç‚¹ ç»Ÿç§°ä¸º <code>critical point</code></li>
</ul>
<hr>
<h2 id="2-å¦‚ä½•åˆ¤æ–­local-minimaè¿˜æ˜¯saddle-pointï¼Ÿ"><a href="#2-å¦‚ä½•åˆ¤æ–­local-minimaè¿˜æ˜¯saddle-pointï¼Ÿ" class="headerlink" title="2. å¦‚ä½•åˆ¤æ–­local minimaè¿˜æ˜¯saddle pointï¼Ÿ"></a>2. å¦‚ä½•åˆ¤æ–­local minimaè¿˜æ˜¯saddle pointï¼Ÿ</h2><ul>
<li>Task03ä¸­çš„æ³°å‹’å±•å¼€å¼ï¼Œå¢åŠ äºŒæ¬¡å¾®åˆ†é¡¹<ol>
<li><em>Î¸ = Î¸â€™</em> é™„è¿‘çš„ L(Î¸) å¯å±•å¼€ä¸ºï¼š<p align="center"> <em>L(Î¸) â‰ˆ L(Î¸â€™) + ( Î¸ - Î¸â€™ )<sup>T</sup> <strong>g</strong> + 1/2 ( Î¸ - Î¸â€™ )<sup>T</sup> <strong>H</strong> ( Î¸ - Î¸â€™ )</em> </p><ol>
<li>ä¸€æ¬¡å¾®åˆ† Gradient <em><strong>g</strong></em> is a vectorï¼š<em><strong>g</strong><sub>i</sub> = ğœ• L(Î¸â€™)/ ğœ• Î¸<sub>i</sub></em></li>
<li>äºŒæ¬¡å¾®åˆ† Hessian <strong>H</strong> is a matrixï¼š<em><strong>H</strong><sub>ij</sub> = ğœ• <sup>2</sup>L(Î¸â€™)/ ğœ• Î¸<sub>i</sub>ğœ• Î¸<sub>j</sub></em></li>
</ol>
</li>
<li>å’Œ<code>critical point</code>æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ<ol>
<li>ä¸€æ¬¡å¾®åˆ†åœ¨<code>critical point</code>æ—¶ä¸º<strong>é›¶</strong></li>
<li>äºŒæ¬¡å¾®åˆ†åˆ™å¯ç”¨äºåˆ¤åˆ«<code>critical point</code>çš„ç‰¹æ€§ï¼ˆä»–çš„åœ°è²Œé•¿ä»€ä¹ˆæ ·å­ï¼‰</li>
</ol>
</li>
<li>Hessian <strong>H</strong>ï¼šsimplified 1/2 ( Î¸ - Î¸â€™ )<sup>T</sup> <strong>H</strong> ( Î¸ - Î¸â€™ )* â†’ v<sup>T</sup> <strong>H</strong> v<ol>
<li>For all <code>v</code>:  v<sup>T</sup> <strong>H</strong> v &gt;0 â†’ Î¸â€™ é™„è¿‘ L(Î¸) &gt; L(Î¸â€™) â†’ <u><strong>Local minima</strong></u></li>
<li>For all <code>v</code>:  v<sup>T</sup> <strong>H</strong> v &lt;0 â†’ Î¸â€™ é™„è¿‘ L(Î¸) &lt; L(Î¸â€™) â†’ <u><strong>Local maxima</strong></u></li>
<li>Sometimes v<sup>T</sup> <strong>H</strong> v &gt;0, sometimes v<sup>T</sup> <strong>H</strong> v &lt;0 â†’  <u><strong>Saddle point</strong></u></li>
</ol>
<ul>
<li>v<sup>T</sup> <strong>H</strong> v &gt;0 ç›¸å½“äº <code>H</code> is positive definite = All eigen values are <strong>positive</strong>ï¼Œå³ç›´æ¥çœ‹Hçš„eigenvalueä¸ºæ­£å°±å¯ä»¥åˆ¤æ–­local minimaï¼›åŒç†eigenvalueå…¨è´Ÿæ—¶ï¼Œä¸ºlocal maximaï¼›æœ‰æ­£æœ‰è´Ÿæ—¶ï¼Œä¸ºsaddle pointã€‚</li>
</ul>
</li>
<li><code>Saddle point</code>æ—¶æ€ä¹ˆç»§ç»­åšgradient descentï¼š<ul>
<li>ä»¥ä¸‹æ–¹æ³•ä¸å¸¸åœ¨å®é™…ä¸­è¿è¡Œï¼š<ol>
<li>æ±‚<code>H</code>çš„ç‰¹å¾å‘é‡<strong>u</strong>åŠç‰¹å¾å€¼Î» â†’ v<sup>T</sup> <strong>H</strong>v ä¸­<strong>v</strong>ç”¨<strong>u</strong>ä»£æ›¿ â†’ u<sup>T</sup> <strong>H</strong> u = u<sup>T</sup> Î» u = Î» ||<strong>u</strong>||<sup>2</sup></li>
<li>è‹¥ Î» &lt; 0 æ—¶ï¼ŒÎ» ||u||<sup>2</sup> &lt; 0 â†’ L(Î¸) &lt; L(Î¸â€˜) å³ local maximaçš„æƒ…å†µ</li>
<li>æ¢å¥è¯è¯´ åªè¦æ²¿ç€eigenvector <strong>u</strong> çš„æ–¹å‘å»æ›´æ–°å‚æ•°ï¼ŒL å°±ä¼šå‡å°</li>
<li>ä½†ç”±äºè®¡ç®—é‡è¿‡å¤§ï¼Œè¿™ç§æ–¹æ³•ä¸å®ç”¨ã€‚ä½†æ˜¯æ˜¯ä¸€ç§å¯èƒ½æ€§ï¼Œå®åœ¨ç¢°åˆ°saddle pointæœ€å·®çš„æƒ…å†µä¸‹ä¹Ÿèƒ½ç”¨è¿™ç§æ–¹å¼ã€‚</li>
</ol>
</li>
</ul>
</li>
</ol>
</li>
</ul>
<hr>
<h1 id="P6-Batch-vs-Momentum"><a href="#P6-Batch-vs-Momentum" class="headerlink" title="P6 Batch vs Momentum"></a>P6 Batch vs Momentum</h1><p> by  <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV11K4y1S7AD?p=6">Hung-yi Lee - Machine Learning 2021 - P6 æ‰¹æ¬¡ä¸åŠ¨é‡</a></p>
<hr>
<h2 id="1-BATCH"><a href="#1-BATCH" class="headerlink" title="1. BATCH"></a>1. BATCH</h2><ol>
<li><p>Terminology</p>
<ul>
<li>batch<ul>
<li>Batchä¹Ÿæœ‰äººç§°ä¹‹ä¸ºmini batch</li>
<li>å®é™…ä¸Šç®—å¾®åˆ†çš„æ—¶å€™ï¼ŒæŠŠæ‰€æœ‰dataåˆ†æˆä¸€ä¸ªä¸ªçš„batch</li>
<li>æ¯ä¸€ç¬”batchèµ„æ–™é‡Œç®—gradientï¼Œå†updateå‚æ•°</li>
<li>æ„æ€æ˜¯ä¸ä¼šæŠŠæ‰€æœ‰çš„dataåŒæ—¶ç®—lossï¼Œè€Œæ˜¯æŒ‰batchæ¥</li>
</ul>
</li>
<li>epoch<ul>
<li>æŠŠæ‰€æœ‰çš„batchçœ‹è¿‡ä¸€éï¼Œç§°ä¹‹ä¸ºä¸€ä¸ªepoch</li>
<li>æ¯ä¸€ä¸ªepochçš„batchéƒ½ä¸ä¸€æ ·</li>
</ul>
</li>
<li>shuffleï¼šæ¯æ¬¡æ›´æ–°epochæ—¶batchéƒ½ä¸ä¸€æ ·ï¼Œå«åšshuffle</li>
</ul>
</li>
<li><p>Batch size: Small Batch v.s. Large Batch</p>
</li>
</ol>
<ul>
<li><code>example 1:</code> æ— å¹³è¡Œè¿ç®—ï¼Œbatch sizeçš„ä¸åŒç»“æœ</li>
</ul>
<table>
<thead>
<tr>
<th>Batch size</th>
<th align="center">= N (full batch)</th>
<th align="center">= 1</th>
</tr>
</thead>
<tbody><tr>
<td>Gradient<br>Descent</td>
<td align="center">upddate after <strong>seeing all</strong> the examples<br>åœ¨ä¸€ä¸ªepoché‡Œåªupdateä¸€æ¬¡<br><img src="fullBatch.png" width="80%"></td>
<td align="center">update for <strong>each</strong> example<br>åœ¨ä¸€ä¸ªepoch é‡Œé¢ä¼šupdate 20æ¬¡<br><img src="miniBatch.png" width="80%"></td>
</tr>
<tr>
<td>Pros</td>
<td align="center">æ—¶é—´é•¿</td>
<td align="center">æ—¶é—´çŸ­</td>
</tr>
<tr>
<td>Cons</td>
<td align="center">ç¨³å½“ powerful</td>
<td align="center">è¾ƒnoisy</td>
</tr>
</tbody></table>
<blockquote>
<p>Q1: ä½†å¦‚æœåŠ å…¥å¹³è¡Œè¿ç®—å‘¢ï¼Ÿ(by GPU)</p>
</blockquote>
<ul>
<li><code>example 2:</code> å¹³è¡Œè®¡ç®—ï¼Œlarger batch sizeä¼šæ›´å¥½<ol>
<li>Larger batch size å¹¶<strong>ä¸ä¸€å®š</strong>ä¼šéœ€è¦æ›´é•¿çš„æ—¶é—´ç®—gradientï¼›ä½†æœ‰<strong>ä¸Šé™</strong>ã€‚<br> ä»batch size 1åˆ°1000æ—¶ï¼Œå¹³è¡Œè¿ç®—å¯¼è‡´æ—¶é—´å·®ä¸å¤šï¼›<br> ä½†10000ç”šè‡³60000æ—¶ï¼Œè¿è¡Œæ—¶é—´å°±å¼€å§‹æŒ‡æ•°å‹å¢é•¿ã€‚<p align="center"><img src="parallelBatchSize.png" width="80%" ></p></li>
<li>Smaller batch size å¯¹äºä¸€ä¸ª epoch è¦æ±‚æ›´å¤šæ—¶é—´æ›´æ–°<br>å·¦è¾¹ä¸º ä¸€æ¬¡updateï¼Œå³è¾¹ä¸º ä¸€ä¸ªepoch æ‰€ç”¨æ—¶é—´ã€‚<p align="center"><img src="smallBatch.png" width="80%" ></p></li>
<li>ä¹Ÿå°±æ˜¯è€ƒè™‘batch sizeæ—¶ï¼Œè€ƒè™‘å•æ¬¡updateæ—¶é—´ åŠ å•æ¬¡epochçš„updateæ—¶é—´</li>
</ol>
</li>
</ul>
<blockquote>
<p>Q2: ä½†æ˜¯ä¸æ˜¯larger sizeçš„batchå°±æ˜¯å¥½çš„å‘¢ï¼Ÿ</p>
</blockquote>
<p>å¹¶ä¸æ˜¯ï¼<br>åœ¨å®é™…trainingä¸­ï¼ŒåŒæ ·çš„modelã€åŒæ ·çš„networkï¼Œç…§ç†è¯´è¡¨ç¤ºçš„accuracyç»“æœåº”æ˜¯ä¸€æ‘¸ä¸€æ ·ï¼Œ ä½†ï¼š</p>
<ul>
<li><code>example 3</code>ï¼šå¹³è¡Œè®¡ç®—ï¼Œsmall sizeçš„å‡†ç¡®åº¦ä¼šæ›´é«˜<br>éšç€sizeå¢å¤§ï¼Œå‡†ç¡®åº¦ä¸‹é™ï¼ˆæ­¤ä¾‹ ä¸overfittingæ— å…³ï¼‰<p align="center"><img src="batchSizeAccuracy.png" width="80%" ></p></li>
</ul>
<blockquote>
<p>Q3: ä¸ºä»€ä¹ˆbatch sizeä¼šå’Œå‡†ç¡®åº¦ç›¸å…³å‘¢ï¼Ÿ</p>
</blockquote>
<p>å¯¹æ¯”ä¸åŒsizeæ—¶ï¼Œgradientåœ¨larger sizeå¯èƒ½ä¼šè¢«å¡ä½ï¼›è€Œåœ¨smaller sizeä¸Šä¼šåŒæ—¶è¿›è¡Œä¸åŒlossçš„è®¡ç®—ï¼Œè¿™ç§noisy updateæ˜¯æœ‰åŠ©äºæ‰¾åˆ°æ›´ä½çš„loss</p>
<p align="center"><img src="batchSizeAccuracy_reason.png" width="80%" ></p>

<h4 id="Summarizing-batch-sizeï¼š"><a href="#Summarizing-batch-sizeï¼š" class="headerlink" title="Summarizing batch sizeï¼š"></a>Summarizing batch sizeï¼š</h4><table>
<thead>
<tr>
<th></th>
<th align="center">Large</th>
<th align="center">Small</th>
</tr>
</thead>
<tbody><tr>
<td>Speed for 1 <strong>update</strong><br>(<strong>no</strong> parallel)</td>
<td align="center">Slower</td>
<td align="center">Faster</td>
</tr>
<tr>
<td>Speed for 1 <strong>update</strong><br>(<strong>with</strong> parallel)</td>
<td align="center">Same<br>(with limitation)</td>
<td align="center">Same</td>
</tr>
<tr>
<td>Speed for 1 <strong>epoch</strong></td>
<td align="center">Faster â˜…</td>
<td align="center">Slower</td>
</tr>
<tr>
<td>Gradient</td>
<td align="center">Stable</td>
<td align="center">Noisy</td>
</tr>
<tr>
<td>Optimization</td>
<td align="center">Worse</td>
<td align="center">Better â˜…</td>
</tr>
<tr>
<td>Generalization</td>
<td align="center">Worse</td>
<td align="center">Better â˜…</td>
</tr>
</tbody></table>
<hr>
<h2 id="2-MOMENTUM"><a href="#2-MOMENTUM" class="headerlink" title="2. MOMENTUM"></a>2. MOMENTUM</h2><p>ç‰©ç†ä¸–ç•Œé‡Œé¢æœ‰æƒ¯æ€§ï¼Œä½¿å¾—çƒä½“åœ¨åŠ¨é‡æƒ¯æ€§ç»§ç»­å‘å‰åŠ¨ã€‚é‚£åœ¨gradient descentä¸­ï¼Œå³æ˜¯ å‰ä¸€æ­¥çš„weighted gradientå‡å»ç°åœ¨çš„gradientã€‚</p>
<blockquote>
<p><em><strong>m<sup>i</sup></strong></em> = weighted sum of all the previous gradient <em><strong>g</strong></em><sup><strong>0</strong></sup>, <em><strong>g</strong></em><sup><strong>1</strong></sup>, <em><strong>g</strong></em><sup><strong>2</strong></sup>, â€¦</p>
</blockquote>
<p>æ‰€ä»¥ï¼š</p>
<blockquote>
<p><em><strong>m</strong></em><sup><strong>0</strong></sup> = 0<br><em><strong>m</strong></em><sup><strong>1</strong></sup> = Î»<em><strong>m</strong></em><sup><strong>0</strong></sup> - Î· <em><strong>g</strong></em><sup><strong>0</strong></sup> =  -  Î· <em><strong>g</strong></em><sup><strong>0</strong></sup><br><em><strong>m</strong></em><sup><strong>2</strong></sup> = Î»<em><strong>m</strong></em><sup><strong>1</strong></sup>  -  Î· <em><strong>g</strong></em><sup><strong>1</strong></sup> = -Î» Î· <em><strong>g</strong></em><sup><strong>0</strong></sup> -  Î· <em><strong>g</strong></em><sup><strong>1</strong></sup><br>â€¦</p>
</blockquote>
<p align="center"><img src="momentum.png" width="80%"><br>è¿™æ ·å°±æœ‰å¯èƒ½åœ¨local minimaçš„æ—¶å€™ï¼Œå†å°è¯•å¾€å‰èµ°å¹¶çªç ´ã€‚</p>

<hr>
<h1 id="P7-Learning-Rate"><a href="#P7-Learning-Rate" class="headerlink" title="P7 Learning Rate"></a>P7 Learning Rate</h1><p> by  <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV11K4y1S7AD?p=7">Hung-yi Lee - Machine Learning 2021 - P7 è‡ªåŠ¨è°ƒæ•´learning rate</a></p>
<hr>
<h2 id="Adagrad"><a href="#Adagrad" class="headerlink" title="Adagrad"></a>Adagrad</h2><p>å‚è€ƒ <a href="https://beyuhu.com/TASK03%20-%20P5+6+7+8">Task03 - P5+6+7+8</a></p>
<h2 id="RMSProp"><a href="#RMSProp" class="headerlink" title="RMSProp"></a>RMSProp</h2><p>(æ²¡æœ‰è®ºæ–‡)  å’Œ Adagrad ä¸­ Root Mean Square å”¯ä¸€çš„ä¸åŒæ˜¯ RMSProp æ²¡æœ‰å– MEANå€¼ï¼Œè€Œæ˜¯è€ƒè™‘ä¸åŒçš„æƒé‡è°ƒæ•´å¼å­ä¸­ Î± å€¼ã€‚</p>
<p align="center"><img src="RMSProp.png" width="80%"></p>

<p>Optimization strategy a.k.a OPTIMIZER: <em><strong>Adam</strong></em> = RMSProp + Momemtum æ˜¯è¾ƒä¸ºå¸¸ç”¨çš„ optimizer</p>
<p align="center"><img src="Adam.png" width="100%"></p> é¢„è®¾å‚æ•°ä¸è¦éšä¾¿è°ƒï¼Œdefaultå·²ç»å¤Ÿå¥½ã€‚

<hr>
<h2 id="Learning-Rate-Scheduling"><a href="#Learning-Rate-Scheduling" class="headerlink" title="Learning Rate Scheduling"></a>Learning Rate Scheduling</h2><h3 id="Learning-Rate-Decay"><a href="#Learning-Rate-Decay" class="headerlink" title="Learning Rate Decay"></a>Learning Rate Decay</h3><p align="center"><img src="LRD.png" width="80%"></p> 

<h3 id="Warm-Up"><a href="#Warm-Up" class="headerlink" title="Warm Up"></a>Warm Up</h3><p align="center"><img src="warmUp.png" width="80%"></p> 


<p>æœ‰å¾ˆå¤šé«˜çº§ç®—æ³•éƒ½â€œå·å·â€åŠ ä¸Šäº†warm upå´æœªå‘ŠçŸ¥å®ƒçš„ä½œç”¨ã€å®ƒçš„æ¥ç”±ã€‚<br>A possible explaination: ç»Ÿè®¡å­¦ä¸Šè®²ï¼Œéœ€è¦å¤šç¬”æ•°æ®åæ‰èƒ½å¾—åˆ°æ›´ç²¾å‡†çš„æ•°æ®ï¼›warm upçš„ä½œç”¨ä¾¿æ˜¯ä½¿å¾—æ•°æ®å…ˆè¢«â€œé¢„è¯»â€è¿‡ã€æ¢ç´¢è¿‡ä¸€äº›error surfaceçš„æƒ…æŠ¥ã€‚<br><em><strong>ref:</strong></em> <a target="_blank" rel="noopener" href="https://arxiv.org/abs/1908.03265">RAdam</a></p>
<hr>
<h2 id="Summary-of-optimization"><a href="#Summary-of-optimization" class="headerlink" title="Summary of optimization"></a>Summary of optimization</h2><ul>
<li><p>(Vanilla) Gradient Descent: Î¸<sup>t+1</sup> â† Î¸<sup>t</sup> - Î· <em><strong>g</strong></em><sup>t</sup></p>
</li>
<li><p>Various Improvement: Î¸<sup>t+1</sup> â† Î¸<sup>t</sup> - Î·<sup>t</sup>/<strong>Ïƒ</strong><sup>t</sup> <em><strong>m</strong></em><sup>t</sup></p>
<ul>
<li>ï¼ˆè€ƒè™‘æ–¹å‘ï¼‰<em><strong>m</strong></em><sup>t</sup> = momentum: weighted sum of the previous gradients </li>
<li>ï¼ˆè€ƒè™‘å¤§å°ï¼‰<strong>Ïƒ</strong><sup>t</sup> = root mean square of the gradients </li>
<li>ï¼ˆè€ƒè™‘scheduleï¼‰Î·<sup>t</sup></li>
</ul>
</li>
</ul>
<hr>
<h1 id="P8-Optimization-by-loss-function"><a href="#P8-Optimization-by-loss-function" class="headerlink" title="P8 Optimization by loss function"></a>P8 Optimization by loss function</h1><p> by  <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV11K4y1S7AD?p=8">Hung-yi Lee - Machine Learning 2021 - P8 æŸå¤±å‡½æ•°ä¹Ÿå¯èƒ½æœ‰å½±å“</a></p>
<hr>
<p>ä¸‹æ–¹ä»¥Classificationä¸ºä¾‹ï¼š</p>
<h2 id="Classification"><a href="#Classification" class="headerlink" title="Classification"></a>Classification</h2><p>å‡å¦‚åˆ†ä¸‰ç±»ï¼šClass 1, Class 2, Class 3 </p>
<h3 id="Class-as-one-hot-vector"><a href="#Class-as-one-hot-vector" class="headerlink" title="Class as one-hot vector"></a>Class as one-hot vector</h3><p align="center"><img src="onehotVector.png" width="50%"></p>

<h3 id="Classification-operation"><a href="#Classification-operation" class="headerlink" title="Classification operation"></a>Classification operation</h3><p>input x â†’ Wâ€™ * Ïƒ ( b + W Â· <code>x</code>) + bâ€™ = output <code>y</code> â†’ <code>y&#39;</code> â†’ <code>y^</code><br>å…¶ä¸­ <code>y</code> å¯ä¸ºä»»ä½•å€¼ï¼›<code>y&#39;</code>ä¸º <code>y</code> é€šè¿‡<strong>softmax</strong> functionè½¬æ¢æˆçš„å€¼ï¼Œä¸º0åˆ°1ä¹‹é—´ï¼›<code>y^</code>ä¸º <code>y&#39;</code> ç›®æ ‡labelï¼Œé€šè¿‡MSEæˆ–<strong>Cross-entropy</strong>åˆ¤æ–­</p>
<h4 id="1-softmaxï¼ˆå½“-binaryçš„æ—¶å€™ç”¨sigmoidï¼‰"><a href="#1-softmaxï¼ˆå½“-binaryçš„æ—¶å€™ç”¨sigmoidï¼‰" class="headerlink" title="1. softmaxï¼ˆå½“ binaryçš„æ—¶å€™ç”¨sigmoidï¼‰"></a>1. softmaxï¼ˆå½“ binaryçš„æ—¶å€™ç”¨sigmoidï¼‰</h4><blockquote>
<p><strong>y<sub>i</sub>â€˜ = exp(y<sub>i</sub>) / Î£<sub>j</sub>exp(y<sub>i</sub>)</strong></p>
<ul>
<li>1 &gt; yâ€™ &gt; 0</li>
<li>Î£yâ€™ = 1</li>
</ul>
</blockquote>
<pre><code>å…¶è¿‡ç¨‹ä¸º 1. æ±‚æŒ‡æ•° â†’ å˜æ­£æ•° 2.æ±‚æ€»å’Œçš„åˆ†æ•° â†’ ç®—æ¯”ä¾‹ 
</code></pre>
<p align="center"><img src="softmax.png" width="90%"></p>

<h4 id="2-Cross-entropy"><a href="#2-Cross-entropy" class="headerlink" title="2. Cross-entropy"></a>2. Cross-entropy</h4><blockquote>
<p><strong>e = - Î£ y<sub>i</sub>^ ln yâ€™<sub>i</sub></strong></p>
</blockquote>
<p><em>Minimizing cross-entropy = Maximizing likelihood</em>ã€‚Cross-entropy æ¯” MSE æ›´å¸¸ç”¨ï¼Œåœ¨PyTorché‡Œé¢ç”šè‡³æŠŠsoftmaxå’ŒCross-entropyæ”¾ä¸€èµ·äº†ã€‚</p>
<blockquote>
<p>Qï¼šé‚£ä¸ºä»€ä¹ˆCross-entropyå°±å¥½äº†å‘¢ï¼Ÿ</p>
</blockquote>
<img src="MSECROSSENTROPY.png" width="90%">

<p>MSEå®¹æ˜“å°†losså¡åœ¨large lossçš„éƒ¨åˆ†ï¼Œè€ŒCross-entropyåˆ™ä¸ä¼šã€‚è¿™ä¹Ÿ<strong>è¯´æ˜äº†loss functionå¯ä»¥æ”¹å˜optimizationã€‚</strong></p>
<hr>
<h1 id="P9-Batch-Normalization"><a href="#P9-Batch-Normalization" class="headerlink" title="P9 Batch Normalization"></a>P9 Batch Normalization</h1><p> by  <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV11K4y1S7AD?p=9">Hung-yi Lee - Machine Learning 2021 - P9 æ‰¹æ¬¡æ ‡å‡†åŒ–</a></p>
<hr>
<h2 id="Feature-Normalization"><a href="#Feature-Normalization" class="headerlink" title="Feature Normalization"></a>Feature Normalization</h2>

<!-- Tags -->



<div class="tags">
    <a href="/tags/MachineLearning/" class="button small">MachineLearning</a> <a href="/tags/Hung-yi-Lee/" class="button small">Hung-yi_Lee</a>
</div>



<!-- Comments -->
<div>
    
    <hr />
    <h3>Comments:</h3>
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>



</div>



            </div>
        </div>

        <!-- Footer -->
<footer id="footer">
    <div class="inner">
        <section>
            <div>
                A little blog for note sharing, check the  <b><a href="/about" target="_self"> info</a></b> about everything! :)
            </div>
        </section>
        <section>
            
            </ul>
        </section>
        <ul class="copyright">
            <li>&copy; BH. All rights reserved</li>
        </ul>
    </div>
</footer>
    </div>

    <!-- After footer scripts -->
    
<!-- jQuery -->

<script src="/js/jquery.min.js"></script>


<!-- skel -->

<script src="/js/skel.min.js"></script>


<!-- Custom Code -->

<script src="/js/util.js"></script>


<!--[if lte IE 8]>

<script src="/js/ie/respond.min.js"></script>

<![endif]-->

<!-- Custom Code -->

<script src="/js/main.js"></script>


<!-- Gallery -->
<script src="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'GUESTS';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


</body>

</html>